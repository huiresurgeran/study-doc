[toc]

# 为什么要有netty

JAVA NIO / JAVA AIO已经实现了各主流操作系统的底层支持，那么为什么现在主流的JAVA NIO技术会是Netty和MINA呢? 

答案很简单: 因为更好用

- JAVA NIO 和 JAVA AIO框架提供了 多路复用IO/异步IO的支持，但是并没有提供上层“信息格式”的良好封装。例如前两者并没有提供针对 Protocol Buffer、JSON这些信息格式的封装
- 要编写一个可靠的、易维护的、高性能的(注意它们的排序)NIO/AIO 服务器应用。除了框架本身要兼容实现各类操作系统的实现外。更重要的是它应该还要处理很多上层特有服务，例如: 客户端的权限、还有上面提到的信息格式封装、简单的数据读取。这些Netty框架都提供了响应的支持。
- JAVA NIO框架存在一个poll/epoll bug: Selector doesn’t block on Selector.select(timeout)，不能block意味着CPU的使用率会变成100%(这是底层JNI的问题，上层要处理这个异常实际上也好办)。当然这个bug只有在Linux内核上才能重现。



# 介绍

Netty是一个高性能，异步事件驱动的NIO框架，提供了对TCP、UDP和文件传输的支持，



# NIO框架

目前流行的NIO框架也很多

- 原生JAVA NIO框架：JAVA NIO通信框架，基于多路复用IO原理
- Apache mina 2：一个网络应用程序框架，帮助用户简单地开发高性能和高可扩展性的网络应用程序。
- Netty 4/5：netty是由jboss提供的一个java开源框架。netty提供**异步的，事件驱动**的网络应用程序框架和工具，用来快速开发高性能，高可靠性的网络服务器和客户端程序。
- Grizzly：是一种应用程序框架，专门解决编写成千上万用户访问服务器时候产生的各种问题。使用JAVA NIO作为基础，并隐藏其编程的复杂性。

# 优点

- api简单，开发门槛低
- 功能强大，内置了多种编解码功能
- 与其他业界主流的NIO框架对比，netty的综合性能最优
- 社区活跃，使用广泛，经历过很多盛业应用项目的考研
- 定制能力强，可以对框架进行灵活的扩展