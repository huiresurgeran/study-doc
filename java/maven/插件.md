[toc]

每一个任务对应一个插件目标，每个插件有一个或者多个目标。

有两种方式调用Maven插件目标

- 将插件目标与生命周期阶段绑定
- 直接在命令行指定要执行的插件目标



# 编译源代码



## maven-compiler-plugin

用于编译Java代码。





# 常用打包插件



## maven-jar-plugin





## maven-dependency-plugin

帮助分析项目依赖。



命令

```
// 列出项目最终解析到的依赖列表
dependency:list

// 进一步描绘项目依赖树
dependency:tree

// 项目依赖潜在的问题，有直接使用却没有声明的依赖，会发出警告
dependency:analyze

// 将项目依赖从本地Maven仓库复制到某个特定的文件夹下面
dependency:copy-dependencies
```





## maven-assembly-plugin

用于制作项目分发包，可以包含项目的可执行文件，源代码，readme，平台脚本等等，具体打包哪些文件，高度可控。

支持zip, tar.gz, jar, war等。

支持自定义打包的文件。

支持包含/排除配置。



maven-assembly- plugin要求用户使用一个名为assembly.xml的元数据文件来表述打包：



生命周期：

它的single目标可以直接在命令行调用，也可以被绑定至生命周期。



## maven-resources-plugin

用于处理资源文件。



功能

- 添加额外的资源目录：默认的主资源文件目录是`src/main/resources
- 资源文件过滤：在资源文件中使用`${propertyName}`形式的Maven属性，然后配置maven-resources-plugin开启对资源文件的过滤，之后就可以针对不同环境通过命令行或者Profile传入属性的值，以实现更为灵活的构建。



## maven-release-plugin

用于自动化项目版本发布，依赖于POM中的SCM信息。



命令

```
// 准备版本发布，包括检查是否有未提交代码，是否有SNAPSHOT就依赖，升级SNAPSHOT到RELEASE，给项目打标签
release:prepare

// 签出标签中的RELEASE源码，构建并发布
release:perform
```





maven-release-plugin的各种目标通常直接在命令行调用，



## maven-antrun-plugin

能在Maven项目中运行Ant任务。

在由ant往Maven迁移的项目中，这个插件十分有用，

run目标通常和生命周期绑定运行。



## maven-deploy-plugin



## maven-source-plugin



## maven-enforcer-plugin

用于创建一系列规则，强制大家遵守。包括设定Java版本，设定Maven版本，禁止某些依赖，禁止SNAPSHOT依赖等等。



只要在一个父POM配置规则，然后让大家继承，当规则遭到破坏的时候，Maven就会报错。



插件支持扩展，可以编写自己的规则。



生命周期：validate

maven-enforcer-plugin的enforce目标负责检查规则，它默认绑定到生命周期的validate阶段。



## maven-clean-plugin



## maven-archetype-plugin

archetype，项目骨架。

用于生成简单的脚手架代码。

```
mvn archetype:generate

// create已经被弃用
mvn archetype:create
```





## maven-install-plugin



## frontend-maven-plugin



## maven-surefire-plugin

Maven2/3中用于执行测试的插件。



```
// 运行FooTest测试类
mvn test -Dtest=FooTest
```







## flatten-maven-plugin



## maven-plugin-plugin



## versions-maven-plugin

用于管理Maven项目的版本信息。



命令

```
// 设置所有模块的版本号
mvn versions:set -DnewVersion=1.0.0

// 项目依赖有哪些可用的更新
display-dependency- updates

// 项目插件有哪些可用的更新
display-plugin-updates

// 自动将依赖升级到最新版本
use- latest-versions

// 提交
mvn versions:commit 

// 撤销
mvn versions:revert
```







## maven-failsafe-plugin



## maven-help-plugin





## spring-boot-maven-plugin



## build-helper-maven-plugin



```
// 支持指定多个源码目录
// 绑定到生命周期的generate-sources阶段
// 不推荐使用
add-source

// 以classifier的形式选取部分项目文件生成附属构件，同事install到本地仓库，或者deploy到远程仓库
attach-artifact
```





## exec-maven-plugin

能运行本地任何的系统程序。



命令

```
// 运行系统程序
mvn exec:exec

// 提供mainClass参数，利用当前项目的依赖作为classpath，在同一个JVM中运行该mainClass
mvn exec:java
```





## jetty-maven-plugin

兼容Maven项目的目录结构，周期性地检查源文件，一旦发现变更后自动更新到内置的Jetty Web容器中。

用于Web开发时的手动测试。



命令

```
// 自动编译，检测，更新至Jetty容器
mvn jetty:run
```

