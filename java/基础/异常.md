[toc]

# 异常层次结构

Java异常都是对象，是Throwable子类的实例。

![image-20220703202502763](../../assets/images/image-20220703202502763.png)

## Throwable

所有错误与异常的超类。

包含两个子类：Error（错误）和Exception（异常）

提供了printStackTrace()等接口，用于获取堆栈跟踪数据等信息



## Error（错误）

Error及其子类：程序中无法处理的错误

此类错误一般表示代码运行时 JVM 出现问题：

- Virtual MachineError（虚拟机运行错误）
- NoClassDefFoundError（类定义错误）
- OutOfMemoryError：内存不足错误
- StackOverflowError：栈溢出错误

此类错误发生时，JVM 将终止线程。

这些错误是不受检异常，非代码性错误。



## Exception（异常）

程序本身可以捕获并且可以处理的异常。

Exception 这种异常又分为两类：运行时异常和编译时异常。



### 运行时异常

RuntimeException类及其子类异常，比如NullPointerException(空指针异常)、IndexOutOfBoundsException(下标越界异常)等。

这类异常是不检查异常，程序中可以选择捕获处理，也可以不处理。

运行时异常的特点是Java编译器不会检查他，没有try-catch和throws，也会编译通过。



### 非运行时异常（编译异常）

RuntimeException以外的异常，类型上都属于Exception类及其子类。

必须进行处理的异常，如果不处理，程序就不能编译通过。

如IOException、SQLException等以及用户自定义的Exception异常，一般情况下不自定义检查异常。



## 可查的异常（checked exceptions）

编译器要求必须处置的异常。

除了RuntimeException及其子类以外，其他的Exception类及其子类都属于可查异常。

当程序中可能出现这类异常，需要用try-catch语句捕获它，或者用throws子句声明抛出它，否则编译不会通过。



## 不可查的异常（unchecked exceptions）

编译器不要求强制处置的异常。

包括运行时异常（RuntimeException与其子类）和错误（Error）。



# 异常基础



## 关键字

- try：用于监听
- catch：用于捕获异常
- finally：总是会被执行。用于回收在try块里打开的物理资源，比如数据库连接，网络连接，磁盘文件等等。finally执行完成之后，才会回来执行try或者catch中的return或者throw语句。
- throw：用于抛出异常
- throws：用在方法签名中，用于声明该方法可能抛出的异常



## 异常的声明（throws）



## 异常的抛出（throw）



## 异常的自定义



## 异常的捕获



## 常用的异常



- RuntimeException

- IOException
- 其他



